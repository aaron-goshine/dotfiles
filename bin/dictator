#! /usr/local/bin/python3

from subprocess import call
import random

list = []


# word_list = open('/usr/share/dict/words')
word_list = open('/Users/aaron.goshine/.dotfiles/terminal/wordlist')

for word in word_list:
    if len(word) < 12 and len(word) > 3:
        list.append(str.strip(word))

random.shuffle(list)


list = list[0:10]

index = 0
score = 0

while True:
    if (index >= len(list)):
        print('\033[5m Final Score: ', score)
        break

    cur_word = list[index]

    call(['say', cur_word])

    text = str.strip(str(input('Please type what you heard: ')))

    if(str.lower(text) == str.lower(cur_word)):
        print('\033[1;32 Well done! \033[0m')
        score += 1
    else:
        print('=========================================')
        print('Expected word:', cur_word)
        print('Entered word: ', text)
        print('\033[1;31;40m Try again!\033[0m')
        print('=========================================')

    index += 1
